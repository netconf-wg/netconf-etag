<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Transaction ID Mechanism for NETCONF</title>
<meta content="Jan Lindblad" name="author">
<meta content="
       NETCONF clients and servers often need to have a synchronized view of
the server's configuration data stores.  The volume of configuration 
data in a server may be very large, while data store changes typically
are small when observed at typical client resynchronization intervals. 
       Rereading the entire data store and analyzing the response for changes
is an inefficient mechanism for synchronization.  This document 
specifies an extension to NETCONF that allows clients and servers to
keep synchronized with a much smaller data exchange and without any
need for servers to store information about the clients. 
    " name="description">
<meta content="xml2rfc 3.2.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-lindblad-netconf-transaction-id-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.2.1
    Python 3.8.5
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.5.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.3.1
    requests 2.24.0
    setuptools 49.2.0
    six 1.15.0
-->
<link href="draft-lindblad-netconf-transaction-id.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@import url('https://martinthomson.github.io/i-d-template/fonts.css');

html {
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --small-font-size: 14.5px;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
#title {
  padding: 1em 0 0.2em;
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1, h2, h3 {
  font-size: 22px;
  line-height: 26px;
}
h4, h5, h6 {
  font-size: 18px;
  line-height: 22px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p, #abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 18px;
  line-height: 24px;
}
p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px 'Oxygen Mono', monospace;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre {
    display: inline-block;
    overflow-x: auto;
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
  table {
    display: inline-block;
    overflow-x: auto;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  visibility: hidden;
  user-select: none;
}
a.pilcrow[href] { color: #ddd; }
a.pilcrow[href]:hover { text-decoration: none; }
@media screen {
  :hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 500px) {
  .index ul {
    column-count: 2;
    column-gap: 20px;
  }
  .index ul ul {
    column-count: 1;
    column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">NCTID</td>
<td class="right">May 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Lindblad</td>
<td class="center">Expires 4 November 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">NETCONF</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-lindblad-netconf-transaction-id-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-05-03" class="published">3 May 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-11-04">4 November 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Lindblad</div>
<div class="org">Cisco Systems</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Transaction ID Mechanism for NETCONF</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">NETCONF clients and servers often need to have a synchronized view of
the server's configuration data stores.  The volume of configuration 
data in a server may be very large, while data store changes typically
are small when observed at typical client resynchronization intervals.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Rereading the entire data store and analyzing the response for changes
is an inefficient mechanism for synchronization.  This document 
specifies an extension to NETCONF that allows clients and servers to
keep synchronized with a much smaller data exchange and without any
need for servers to store information about the clients.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Source for this draft and an issue tracker can be found at
  <span><a href="https://github.com/janlindblad/netconf-transaction-id">https://github.com/janlindblad/netconf-transaction-id</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 4 November 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-and-definitions" class="xref">Conventions and Definitions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-netconf-txid-extension" class="xref">NETCONF Txid Extension</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-use-cases" class="xref">Use Cases</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-general-txid-principles" class="xref">General Txid Principles</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-initial-configuration-retri" class="xref">Initial Configuration Retrieval</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-subsequent-configuration-re" class="xref">Subsequent Configuration Retrieval</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-conditional-transactions" class="xref">Conditional Transactions</a><a href="#section-toc.1-1.3.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="xref">3.6</a>.  <a href="#name-other-netconf-operations" class="xref">Other NETCONF Operations</a><a href="#section-toc.1-1.3.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="xref">3.7</a>.  <a href="#name-yang-push-subscriptions" class="xref">YANG-Push Subscriptions</a><a href="#section-toc.1-1.3.2.7.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-txid-mechanisms" class="xref">Txid Mechanisms</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-the-etag-attribute-txid-mec" class="xref">The ETag attribute txid mechanism</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-the-last-modified-attribute" class="xref">The Last-Modified attribute txid mechanism</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-common-features-to-both-eta" class="xref">Common features to both ETag and Last-Modified txid mechanisms</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-txid-mechanism-examples" class="xref">Txid Mechanism Examples</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-initial-configuration-respo" class="xref">Initial Configuration Response</a><a href="#section-toc.1-1.4.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-configuration-response-prun" class="xref">Configuration Response Pruning</a><a href="#section-toc.1-1.4.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-configuration-change" class="xref">Configuration Change</a><a href="#section-toc.1-1.4.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a href="#section-4.4.4" class="xref">4.4.4</a>.  <a href="#name-conditional-configuration-c" class="xref">Conditional Configuration Change</a><a href="#section-toc.1-1.4.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.4.2.5">
                    <p id="section-toc.1-1.4.2.4.2.5.1"><a href="#section-4.4.5" class="xref">4.4.5</a>.  <a href="#name-etags-with-other-netconf-op" class="xref">ETags with Other NETCONF Operations</a><a href="#section-toc.1-1.4.2.4.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-yang-push" class="xref">YANG-Push</a><a href="#section-toc.1-1.4.2.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-yang-modules" class="xref">YANG Modules</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-base-module-for-txid-in-net" class="xref">Base module for txid in NETCONF</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-additional-support-for-txid" class="xref">Additional support for txid in YANG-Push</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-changes" class="xref">Changes</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-major-changes-in-02-since-0" class="xref">Major changes in -02 since -01</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-major-changes-in-01-since-0" class="xref">Major changes in -01 since -00</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">When a NETCONF client connects with a NETCONF server, a frequently 
occurring use case is for the client to find out if the configuration 
has changed since it was last connected.  Such changes could occur for 
example if another NETCONF client has made changes, or another system 
or operator made changes through other means than NETCONF.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">One way of detecting a change for a client would be to 
retrieve the entire configuration from the server, then compare 
the result with a previously stored copy at the client side.  This 
approach is not popular with most NETCONF users, however, since it 
would often be very expensive in terms of communications and 
computation cost.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Furthermore, even if the configuration is reported to be unchanged, 
that will not guarantee that the configuration remains unchanged 
when a client sends a subsequent change request, a few moments later.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">In order to simplify the task of tracking changes, a NETCONF server 
could implement a meta level checksum over the configuration over a 
datastore or YANG subtree, and offer clients a way to read and 
compare this checksum.  If the checksum is unchanged, clients can 
avoid performing expensive operations.  Such checksums are often 
referred to as a configuration id or transaction id (txid).<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Evidence of a transaction id feature being demanded by clients is that 
several server implementors have built proprietary and mutually 
incompatible mechanisms for obtaining a transaction id from a NETCONF 
server.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">RESTCONF, 
In conjunction with this, RESTCONF 
provides a way to make configuration changes conditional on the server
confiuguration being untouched by others.  This mechanism leverages 
<a href="https://tools.ietf.org/html/rfc8040">RFC 8040</a>, 
defines a mechanism for detecting changes in configuration subtrees 
based on Entity-tags (ETags) and Last-Modified txid values.<a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a> 
"Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests".<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">This document defines similar functionality for NETCONF, 
<a href="https://tools.ietf.org/html/rfc6241">RFC 6241</a>, and ties this in
with YANG-Push <a href="https://tools.ietf.org/html/rfc8641">RFC 8641</a>.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document uses the terminology defined in 
<a href="https://tools.ietf.org/html/rfc6241">RFC6241</a>,
<a href="https://tools.ietf.org/html/rfc7950">RFC7950</a>, 
<a href="https://tools.ietf.org/html/rfc8040">RFC8040</a>, and 
<a href="https://tools.ietf.org/html/rfc8641">RFC8641</a>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">In addition, this document defines the following terms:<a href="#section-2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-4">
        <dt id="section-2-4.1">Versioned element</dt>
        <dd style="margin-left: 1.5em" id="section-2-4.2">
  A node in the instantiated YANG data tree for which
the server maintains a transaction id (txid) value.<a href="#section-2-4.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="netconf-txid-extension">
<section id="section-3">
      <h2 id="name-netconf-txid-extension">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-netconf-txid-extension" class="section-name selfRef">NETCONF Txid Extension</a>
      </h2>
<p id="section-3-1">This document describes a NETCONF extension which modifies the 
behavior of get-config, get-data, edit-config, edit-data,
discard-changes, copy-config, delete-config and commit such
that clients are able to conditionally retrieve and update the 
configuration in a NETCONF server.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">For servers implementing YANG-Push, an extension for conveying txid 
updates as part of subscription updates is also defined.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Several low level mechanisms could be defined to fulfill the 
requirements for efficient client-server txid synchronization.
This document defines two such mechanisms, the ETag txid mechanism 
and the Last-Modified txid mechanism. Additional mechanisms could 
be added in future.<a href="#section-3-3" class="pilcrow">¶</a></p>
<div id="use-cases">
<section id="section-3.1">
        <h3 id="name-use-cases">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
        </h3>
<p id="section-3.1-1">The common use cases for such mecahnisms are briefly discussed here.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-2">
          <dt id="section-3.1-2.1">Initial configuration retrieval</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.2">
            <p id="section-3.1-2.2.1">
  When the client initially connects to a server, it may be interested 
to acquire a current view of (parts of) the server's configuration.<a href="#section-3.1-2.2.1" class="pilcrow">¶</a></p>
<p id="section-3.1-2.2.2">
In order to be able to efficiently detect changes later, it may also 
be interested to store meta level txid information for 
subtrees of the configuration.<a href="#section-3.1-2.2.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.3">Subsequent configuration retrieval</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.4">
  When a client needs to reread (parts of) the server's configuration, 
it may be interested to leverage the txid meta data it has 
stored by requesting the server to prune the response so that it does 
not repeat configuration data that the client is already aware of.<a href="#section-3.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.5">Configuration update with txid return</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.6">
  When a client issues a transaction towards a server, it may be 
interested to also learn the new txid meta data the server 
has stored for the updated parts of the configuration.<a href="#section-3.1-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.7">Configuration update with txid specification</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.8">
  When a client issues a transaction towards a server, it may be 
interested to also specify the new txid meta data that the 
server stores for the updated parts of the configuration.<a href="#section-3.1-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.9">Conditional configuration change</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.10">
  When a client issues a transaction towards a server, it may specify 
txid meta data for the transaction in order to allow the server to 
verify that the client is up to date with any changes in the parts of 
the configuration that it is concerned with.  If the txid 
meta data in the server is different than the client expected, the 
server rejects the transaction with a specific error message.<a href="#section-3.1-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.11">Subscribe to configuration changes with txid return</dt>
          <dd style="margin-left: 1.5em" id="section-3.1-2.12">
  When a client subscribes to configuration change updates through 
YANG-Push, it may be interested to also learn the the updated txid
meta data for the changed data trees.<a href="#section-3.1-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="general-txid-principles">
<section id="section-3.2">
        <h3 id="name-general-txid-principles">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-general-txid-principles" class="section-name selfRef">General Txid Principles</a>
        </h3>
<p id="section-3.2-1">All servers implementing a txid mechanism MUST maintain a txid meta 
data value for each configuration datastore supported by the server.
Txid mechanism implementations MAY also maintain txid meta data 
values for elements deeper in the YANG data tree.  The elements for 
which the server maintains txids are collectively referred to as the 
"versioned elements".<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The server returning txid values for the versioned elements 
MUST ensure the txid values are changed every time there has 
been a configuration change at or below the element associated with 
the txid value.  This means any update of a config true element will 
result in a new txid value for all ancestor versioned elements, up 
to and including the datastore root itself.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">This also means a server MUST update the txid value for any 
elements that change as a result of a configuration change, regardless 
of source, even if the changed elements are not explicitly part 
of the change payload.  An example of this is dependent data under 
YANG <a href="https://tools.ietf.org/html/rfc7950">RFC 7950</a> when- or 
choice-statements.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">The server MUST NOT change the txid value of a versioned element 
unless the element itself or a child element of that element has 
been changed.  The server MUST NOT change any txid values due to 
changes in config false data.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="initial-configuration-retrieval">
<section id="section-3.3">
        <h3 id="name-initial-configuration-retri">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-initial-configuration-retri" class="section-name selfRef">Initial Configuration Retrieval</a>
        </h3>
<p id="section-3.3-1">When a NETCONF server receives a get-config or get-data request 
containing requests for txid values, it MUST return txid values for 
all versioned elements below the point requested by the client in 
the reply.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">The exact encoding varies by mechanism, but all txid mechanisms 
would have a special "txid-request" txid value (e.g. "?") which is 
guaranteed to never be used as a normal txid value.  Clients MAY use 
this special txid value associated with one or more nodes in the 
data tree to indicate to the server that they are interested in 
txid values below that point of the data tree.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<span id="name-initial-configuration-retrie"></span><figure id="figure-1">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.3-3.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   get-config                                    |
       |     acls (txid: ?)                              |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   data (txid: 5152)                             |
       |     acls (txid: 5152)                           |
       |       acl A1 (txid: 4711)                       |
       |         aces (txid: 4711)                       |
       |           ace R1 (txid: 4711)                   |
       |             matches ipv4 protocol udp           |
       |       acl A2 (txid: 5152)                       |
       |         aces (txid: 5152)                       |
       |           ace R7 (txid: 4711)                   |
       |             matches ipv4 dscp AF11              |
       |           ace R8 (txid: 5152)                   |
       |             matches udp source-port port 22     |
       |           ace R9 (txid: 5152)                   |
       |             matches tcp source-port port 22     |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-initial-configuration-retrie" class="selfRef">Initial Configuration Retrieval.  The server returns the  requested configuration, annotated with txid values.  The most  recent change seems to have been an update to the R8 and  R9 source-port.</a>
          </figcaption></figure>
</section>
</div>
<div id="subsequent-configuration-retrieval">
<section id="section-3.4">
        <h3 id="name-subsequent-configuration-re">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-subsequent-configuration-re" class="section-name selfRef">Subsequent Configuration Retrieval</a>
        </h3>
<p id="section-3.4-1">Clients MAY request the server to return txid values in the response 
by adding one or more txid values received previously in get-config or 
get-data requests.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">When a NETCONF server receives a get-config or get-data request 
containing an element with a client specified txid value, there are 
several different cases:<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.4-3.1">
            <p id="section-3.4-3.1.1">The element is not a versioned element, i.e. the server does not 
maintain a txid value for this element.  In this case, the server 
MUST look up the closest ancestor that is a versioned element, and 
use the txid value of that element in the further handling below.<a href="#section-3.4-3.1.1" class="pilcrow">¶</a></p>
<p id="section-3.4-3.1.2">
The datastore root is always a versioned element.<a href="#section-3.4-3.1.2" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-3.4-3.2">The client specified txid value is different than the server's 
txid value for this element.  In this case the server MUST return 
the contents as it would otherwise have done, adding the txid values 
of all child versioned elements to the response.  In case the client 
has specified txid values for some child elements, then these 
cases MUST be re-evaluated for those elements.<a href="#section-3.4-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.4-3.3">The element is a versioned element, and the client specified txid 
value matches the server's txid value.  In this case the server MUST 
return the element decorated with a special "txid-match" txid value 
(e.g. "=") to the matching element, and child elements pruned.  The 
txid-match value is guaranteed to never be used as a normal txid 
value.<a href="#section-3.4-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.4-4">For list elements, pruning child elements means that key elements 
MUST be included in the response, and other child elements 
MUST NOT be included.  For containers, child elements MUST NOT 
be included.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<span id="name-response-pruning-client-sen"></span><figure id="figure-2">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.4-5.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   get-config                                    |
       |     acls (txid: 5152)                           |
       |       acl A1 (txid: 4711)                       |
       |         aces (txid: 4711)                       |
       |       acl A2 (txid: 5152)                       |
       |         aces (txid: 5152)                       |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   data (txid: =)                                |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-response-pruning-client-sen" class="selfRef">Response Pruning.  Client sends get-config request with  known txid values.  Server prunes response where txid matches  expectations.</a>
          </figcaption></figure>
<span id="name-out-of-band-change-detected"></span><figure id="figure-3">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.4-6.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   get-config                                    |
       |     acls (txid: 5152)                           |
       |       acl A1 (txid: 4711)                       |
       |       acl A2 (txid: 5152)                       |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   data (txid: 6614)                             |
       |     acls (txid: 6614)                           |
       |       acl A1 (txid: =)                          |
       |       acl A2 (txid: 6614)                       |
       |         aces (txid: 6614)                       |
       |           ace R7 (txid: 4711)                   |
       |             matches ipv4 dscp AF11              |
       |           ace R8 (txid: 5152)                   |
       |             matches udp source-port port 22     |
       |           ace R9 (txid: 6614)                   |
       |             matches tcp source-port port 830    |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-out-of-band-change-detected" class="selfRef">Out of band change detected.  Client sends get-config  request with known txid values.  Server provides update where  changes have happened.</a>
          </figcaption></figure>
<span id="name-versioned-elements-server-l"></span><figure id="figure-4">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.4-7.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   get-config                                    |
       |     acls                                        |
       |       acls A2                                   |
       |         aces                                    |
       |           ace R7                                |
       |             matches                             |
       |               ipv4                              |
       |                 dscp (txid: 4711)               |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   data                                          |
       |     acls                                        |
       |       acl A2                                    |
       |         aces                                    |
       |           ace R7                                |
       |             matches                             |
       |               ipv4                              |
       |                 dscp AF11 (txid: =)             |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-versioned-elements-server-l" class="selfRef">Versioned elements.  Server lookup of dscp txid gives  4711, as closest ancestor is ace R7 with txid 4711.  Since the  server's and client's txid match, the etag value is '='.</a>
          </figcaption></figure>
</section>
</div>
<div id="conditional-transactions">
<section id="section-3.5">
        <h3 id="name-conditional-transactions">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-conditional-transactions" class="section-name selfRef">Conditional Transactions</a>
        </h3>
<p id="section-3.5-1">Conditional transactions are useful when a client is interested 
to make a configuration change, being sure that the server 
configuration has not changed since the client last inspected it.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">By supplying the latest txid values known to the client
in its change requests (edit-config etc.), it can request the server 
to reject the transaction in case any relevant changes have occurred 
at the server that the client is not yet aware of.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">This allows a client to reliably compute and send confiuguration 
changes to a server without either acquiring a global datastore lock 
for a potentially extended period of time, or risk that a change 
from another client disrupts the intent in the time window between a 
read (get-config etc.) and write (edit-config etc.) operation.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<p id="section-3.5-4">Client that are also interested to know the txid assigned to the
modified versioned elements in the model immediately in the
response could set a flag in the rpc message to request the server
to return the new txid with the ok message.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
<span id="name-conditional-transaction-suc"></span><figure id="figure-5">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.5-5.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   edit-config (request new txid in response)    |
       |     config (txid: 5152)                         |
       |       acls (txid: 5152)                         |
       |         acl A1 (txid: 4711)                     |
       |           aces (txid: 4711)                     |
       |             ace R1 (txid: 4711)                 |
       |               matches ipv4 protocol tcp         |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   ok (txid: 7688)                               |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-conditional-transaction-suc" class="selfRef">Conditional transaction successfully executed.  As all  the txid values specified by the client matched those on the server,  the transaction was successfully executed.</a>
          </figcaption></figure>
<span id="name-for-all-leaf-objects-that-w"></span><figure id="figure-6">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.5-6.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   get-config                                    |
       |     acls (txid: ?)                              |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   data (txid: 7688)                             |
       |     acls (txid: 7688)                           |
       |       acl A1 (txid: 7688)                       |
       |         aces (txid: 7688)                       |
       |           ace R1 (txid: 7688)                   |
       |             matches ipv4 protocol tcp           |
       |       acl A2 (txid: 6614)                       |
       |         aces (txid: 6614)                       |
       |           ace R7 (txid: 4711)                   |
       |             matches ipv4 dscp AF11              |
       |           ace R8 (txid: 5152)                   |
       |             matches udp source-port port 22     |
       |           ace R9 (txid: 6614)                   |
       |             matches tcp source-port port 830    |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-for-all-leaf-objects-that-w" class="selfRef">For all leaf objects that were changed, and all their  ancestors, the txids are updated to the value returned in the ok  message.  This also applies to any elements implicitly changed by when- and choice-statements (not shown).</a>
          </figcaption></figure>
<p id="section-3.5-7">If the server rejects the transaction because the configuration 
txid value differs from the client's expectation, the 
server MUST return an rpc-error with the following values:<a href="#section-3.5-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.5-8">
<pre>
   error-tag:      operation-failed
   error-type:     protocol
   error-severity: error
</pre><a href="#section-3.5-8" class="pilcrow">¶</a>
</div>
<p id="section-3.5-9">Additionally, the error-info tag SHOULD contain an sx:structure
containing relevant details about the mismatching txids.<a href="#section-3.5-9" class="pilcrow">¶</a></p>
<span id="name-conditional-transaction-tha"></span><figure id="figure-7">
          <div class="artwork art-text alignLeft art-call-flow" id="section-3.5-10.1">
<pre>
     Client                                            Server
       |                                                 |
       |   ------------------------------------------&gt;   |
       |   edit-config                                   |
       |     config                                      |
       |       acls                                      |
       |         acl A1 (txid: 4711)                     |
       |           aces (txid: 4711)                     |
       |             ace R1 (txid: 4711)                 |
       |               ipv4 dscp AF22                    |
       |                                                 |
       |   &lt;------------------------------------------   |
       |   rpc-error                                     |
       |     error-tag       operation-failed            |
       |     error-type      protocol                    |
       |     error-severity  error                       |
       |     error-info                                  |
       |       mismatch-path /acls/acl[A1]               |
       |       mismatch-etag-value 6912                  |
       v                                                 v
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-conditional-transaction-tha" class="selfRef">Conditional transaction that fails a txid check.  The  client wishes to ensure there has been no changes to the particular  acl entry it edits, and therefore sends the txid it knows for this  part of the configuration.  Since the txid has changed  (out of band), the server rejects the configuration change request  and reports an error with details about where the mismatch was  detected.</a>
          </figcaption></figure>
</section>
</div>
<div id="other-netconf-operations">
<section id="section-3.6">
        <h3 id="name-other-netconf-operations">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-other-netconf-operations" class="section-name selfRef">Other NETCONF Operations</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-3.6-1">
          <dt id="section-3.6-1.1">discard-changes</dt>
          <dd style="margin-left: 1.5em" id="section-3.6-1.2">
  The discard-changes operation resets the candidate datastore to the 
contents of the running datastore.  The server MUST ensure the 
txid values in the candidate datastore get the same txid values 
as in the running datastore when this operation runs.<a href="#section-3.6-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.6-1.3">copy-config</dt>
          <dd style="margin-left: 1.5em" id="section-3.6-1.4">
  The copy-config operation can be used to copy contents between 
datastores.  The server MUST ensure the txid values retain 
the same txid values as in the soruce datastore.<a href="#section-3.6-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.6-1.5"></dt>
          <dd style="margin-left: 1.5em" id="section-3.6-1.6">If copy-config is used to copy from a file, URL or other source that 
is not a datastore, the server MUST ensure the txid values 
are changed for the versioned elements that are changed or have child 
elements changed by the operation.<a href="#section-3.6-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.6-1.7">delete-config</dt>
          <dd style="margin-left: 1.5em" id="section-3.6-1.8">
  The server MUST ensure the datastore txid value is changed, unless it
was already empty.<a href="#section-3.6-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.6-1.9">commit</dt>
          <dd style="margin-left: 1.5em" id="section-3.6-1.10">
  At commit, with regards to the txid values, the server MUST 
treat the contents of the candidate datastore as if any txid 
value provided by the client when updating the candidate was provided 
in a single edit-config towards the running datastore.  If the 
transaction is rejected due to txid value mismatch, 
an rpc-error as described in section
<span><a href="#conditional-transactions" class="xref">Conditional Transactions</a> (<a href="#conditional-transactions" class="xref">Section 3.5</a>)</span> MUST be sent.<a href="#section-3.6-1.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="yang-push-subscriptions">
<section id="section-3.7">
        <h3 id="name-yang-push-subscriptions">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-yang-push-subscriptions" class="section-name selfRef">YANG-Push Subscriptions</a>
        </h3>
<p id="section-3.7-1">A client issuing a YANG-Push establish-subscription or
modify-subscription request towards a server that supports both 
YANG-Push <a href="https://tools.ietf.org/html/rfc8641">RFC 8641</a> and a txid
mechanism MAY request that the server provides updated txid values in
YANG-Push subscription updates.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="txid-mechanisms">
<section id="section-4">
      <h2 id="name-txid-mechanisms">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-txid-mechanisms" class="section-name selfRef">Txid Mechanisms</a>
      </h2>
<p id="section-4-1">This document defines two txid mechanisms:
- The ETag attribute txid mechanism
- The Last-Modified attribute txid mechanism<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Servers implementing this specification MUST support the ETag 
attribute txid mechanism and MAY support the Last-Modified 
attribute txid mechanism.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">Section <span><a href="#netconf-txid-extension" class="xref">NETCONF Txid Extension</a> (<a href="#netconf-txid-extension" class="xref">Section 3</a>)</span> describes 
the logic that governs the txid mechanisms.  This section describes 
the mapping from the generic logic to specific mechanism and encoding.<a href="#section-4-3" class="pilcrow">¶</a></p>
<div id="the-etag-attribute-txid-mechanism">
<section id="section-4.1">
        <h3 id="name-the-etag-attribute-txid-mec">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-the-etag-attribute-txid-mec" class="section-name selfRef">The ETag attribute txid mechanism</a>
        </h3>
<p id="section-4.1-1">The ETag txid mechanism described in this section is centered around 
a meta data XML attribute called "etag".  The etag attribute is 
defined in the namespace "urn:ietf:params:xml:ns:netconf:txid:1.0".
The etag attribute is added to XML elements in the NETCONF payload 
in order to indicate the txid value for the element.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">NETCONF servers that support this extension MUST announce the 
capability "urn:ietf:params:netconf:capability:txid:etag:1.0".<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The etag attribute values are opaque UTF-8 strings chosen freely, 
except that the etag string must not contain space, backslash 
or double quotes. The point of this restriction is to make it easy to 
reuse implementations that adhere to section 2.3.1 in 
<a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a>.  The probability 
SHOULD be made very low that an etag value that has been used 
historically by a server is used again by that server.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">It is RECOMMENDED that the same ETag txid values are used across all 
management interfaces (i.e. NETCONF, RESTCONF and any other the server 
might implement), if it implements more than one.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">The detailed rules for when to update the etag value are described in 
section <span><a href="#general-txid-principles" class="xref">General Txid Principles</a> (<a href="#general-txid-principles" class="xref">Section 3.2</a>)</span>.  These 
rules are chosen to be consistent with the ETag mechanism in 
RESTCONF, <a href="https://tools.ietf.org/html/rfc8040">RFC 8040</a>, 
specifically sections 3.4.1.2, 3.4.1.3 and 3.5.2.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-last-modified-attribute-txid-mechanism">
<section id="section-4.2">
        <h3 id="name-the-last-modified-attribute">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-the-last-modified-attribute" class="section-name selfRef">The Last-Modified attribute txid mechanism</a>
        </h3>
<p id="section-4.2-1">The Last-Modified txid mechanism described in this section is 
centered around a meta data XML attribute called "last-modified".
The last-modified attribute is defined in the namespace 
"urn:ietf:params:xml:ns:netconf:txid:1.0".  The last-modified 
attribute is added to XML elements in the NETCONF payload in 
order to indicate the txid value for the element.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">NETCONF servers that support this extension MUST announce the 
capability 
"urn:ietf:params:netconf:capability:txid:last-modified:1.0".<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">The last-modified attribute values are yang:date-and-time values as
defined in ietf-yang-types.yang

"2022-04-01T12:34:56.123456Z" is an example of what this time stamp 
format looks like.  It is RECOMMENDED that the time stamps provided 
by the server match the real world clock fairly closely.  Servers 
MUST ensure the timestamps provided are monotonously increasing for 
as long as the server's operation is maintained.<a href="https://datatracker.ietf.org/doc/html/rfc6991">RFC 6991</a>.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">It is RECOMMENDED that server implementors choose the number of 
digits of precision used for the fractional second timestamps 
high enough so that there is no risk that multiple transactions on 
the server would get the same timestamp.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">It is RECOMMENDED that the same Last-Modified txid values are used 
across all management interfaces (i.e. NETCONF and any other the 
server might implement), except RESTCONF.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2-6">RESTCONF is using a different format for the time stamps which is 
limited to one second resolution.  Server implementors that support 
the Last-Modified txid mechanism over both RESTCONF and other 
management protocols are RECOMMENDED to use Last-Modified timestamps 
that match the point in time referenced over RESTCONF, with the 
fractional seconds part added.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2-7">The detailed rules for when to update the last-modified value are 
described in section 
<span><a href="#general-txid-principles" class="xref">General Txid Principles</a> (<a href="#general-txid-principles" class="xref">Section 3.2</a>)</span>.  These rules 
are chosen to be consistent with the Last-Modified mechanism in 
RESTCONF, <a href="https://tools.ietf.org/html/rfc8040">RFC 8040</a>, 
specifically sections 3.4.1.1, 3.4.1.3 and 3.5.1.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="common-features-to-both-etag-and-last-modified-txid-mechanisms">
<section id="section-4.3">
        <h3 id="name-common-features-to-both-eta">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-common-features-to-both-eta" class="section-name selfRef">Common features to both ETag and Last-Modified txid mechanisms</a>
        </h3>
<p id="section-4.3-1">Clients MAY add etag and/or last-modified attributes to zero or 
more individual elements in the get-config or get-data filter, in 
which case they pertain to the subtree(s) rooted at the element(s) 
with the attributes.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Clients MAY also add such attributes directly to the get-config or 
get-data tags (e.g. if there is no filter), in which case it 
pertains to the txid value of the datastore root.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Clients might wish to send a txid value that is guaranteed to never
match a server constructed txid.  With both the ETag and 
Last-Modified txid mechanisms, such a txid-request value is "?".<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Clients MAY add etag and/or last-modified attributes to the playload 
of edit-config or edit-data requests, in which case they indicate 
the client's txid value of that element.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">Clients MAY request servers that also implement YANG-Push to return 
configuration change subsription updates with etag and/or last-modified txid attributes.  The client requests this service by 
adding a with-etag or with-last-modified flag to the subscription
request or yang-pusg configuration.  The server returns such txids 
on the YANG Patch edit tag and to the child elements of the 
value tag.  The txid attribute on the edit tag reflects the txid 
of the parent element of the target.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">Servers returning txid values in get-config, edit-config, get-data, edit-data and commit operations do so by adding etag and/or 
last-modified txid attributes to the data and ok tags.  When 
servers prune output due to a matching txid value, the server 
adds a txid-match attribute value of "=".<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<p id="section-4.3-7">Servers returning an txid mismatch error MUST return an rpc-error 
as defined in section 
<span><a href="#conditional-transactions" class="xref">Conditional Transactions</a> (<a href="#conditional-transactions" class="xref">Section 3.5</a>)</span> with an
error-info tag containing an txid-value-mismatch-error-info 
structure.<a href="#section-4.3-7" class="pilcrow">¶</a></p>
<p id="section-4.3-8">The txid attributes are valid on the following NETCONF tags,
where xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0",
xmlns:ncds="urn:ietf:params:xml:ns:yang:ietf-netconf-nmda",
xmlns:sn="urn:ietf:params:xml:ns:yang:ietf-subscribed-notifications"
xmlns:yp="urn:ietf:params:xml:ns:yang:ietf-yang-patch" and
xmlns:ypatch="urn:ietf:params:xml:ns:yang:ietf-yang-patch":<a href="#section-4.3-8" class="pilcrow">¶</a></p>
<p id="section-4.3-9">In client messages sent to a server:<a href="#section-4.3-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-10.1">/nc:rpc/nc:get-config<a href="#section-4.3-10.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.2">/nc:rpc/nc:get-config/nc:filter//*<a href="#section-4.3-10.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.3">/nc:rpc/ncds:get-data<a href="#section-4.3-10.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.4">/nc:rpc/ncds:get-data/ncds:subtree-filter//*<a href="#section-4.3-10.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.5">/nc:rpc/ncds:get-data/ncds:xpath-filter//*<a href="#section-4.3-10.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.6">/nc:rpc/nc:edit-config/nc:config<a href="#section-4.3-10.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.7">/nc:rpc/nc:edit-config/nc:config//*<a href="#section-4.3-10.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.8">/nc:rpc/ncds:edit-data/ncds:config<a href="#section-4.3-10.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-10.9">/nc:rpc/ncds:edit-data/ncds:config//*<a href="#section-4.3-10.9" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.3-11">In server messages sent to a client:<a href="#section-4.3-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-12.1">/nc:rpc-reply/nc:data<a href="#section-4.3-12.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.2">/nc:rpc-reply/nc:data//*<a href="#section-4.3-12.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.3">/nc:rpc-reply/ncds:data<a href="#section-4.3-12.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.4">/nc:rpc-reply/ncds:data//*<a href="#section-4.3-12.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.5">/nc:rpc-reply/nc:ok<a href="#section-4.3-12.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.6">/yp:push-update/yp:datastore-contents/ypatch:yang-patch/
ypatch:edit<a href="#section-4.3-12.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.7">/yp:push-update/yp:datastore-contents/ypatch:yang-patch/
ypatch:edit/ypatch:value//*<a href="#section-4.3-12.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.8">/yp:push-change-update/yp:datastore-contents/ypatch:yang-patch/
ypatch:edit<a href="#section-4.3-12.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-12.9">/yp:push-change-update/yp:datastore-contents/ypatch:yang-patch/
ypatch:edit/ypatch:value//*<a href="#section-4.3-12.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="txid-mechanism-examples">
<section id="section-4.4">
        <h3 id="name-txid-mechanism-examples">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-txid-mechanism-examples" class="section-name selfRef">Txid Mechanism Examples</a>
        </h3>
<div id="initial-configuration-response">
<section id="section-4.4.1">
          <h4 id="name-initial-configuration-respo">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-initial-configuration-respo" class="section-name selfRef">Initial Configuration Response</a>
          </h4>
<div id="with-etag">
<section id="section-4.4.1.1">
            <h5 id="name-with-etag">
<a href="#section-4.4.1.1" class="section-number selfRef">4.4.1.1. </a><a href="#name-with-etag" class="section-name selfRef">with etag</a>
            </h5>
<p id="section-4.4.1.1-1">To retrieve etag attributes across the entire NETCONF server 
configuration, a client might send:<a href="#section-4.4.1.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.1-2">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config txid:etag="?"/&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.1.1-3">To retrieve etag attributes for a specific ACL using an xpath 
filter, a client might send:<a href="#section-4.4.1.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.1-4">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter type="xpath"
      xmlns:acl=
        "urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      select="/acl:acls/acl:acl[acl:name='A1']"
      txid:etag="?"/&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.1-4" class="pilcrow">¶</a>
</div>
<p id="section-4.4.1.1-5">To retrieve etag attributes for "acls", but not for "nacm",
a client might send:<a href="#section-4.4.1.1-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.1-6">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;acls
        xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
        txid:etag="?"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.1-6" class="pilcrow">¶</a>
</div>
<p id="section-4.4.1.1-7">If the server considers "acls", "acl", "aces" and "acl" to be 
versioned elements, the server's response to the request above 
might look like:<a href="#section-4.4.1.1-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.1-8">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="nc5152"&gt;
    &lt;acls xmlns=
            "urn:ietf:params:xml:ns:yang:ietf-access-control-list"
          txid:etag="nc5152"&gt;
      &lt;acl txid:etag="nc4711"&gt;
        &lt;name&gt;A1&lt;/name&gt;
        &lt;aces txid:etag="nc4711"&gt;
          &lt;ace txid:etag="nc4711"&gt;
            &lt;name&gt;R1&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;dscp&gt;AF11&lt;/dscp&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
      &lt;acl txid:etag="nc5152"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="nc5152"&gt;
          &lt;ace txid:etag="nc4711"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;protocol&gt;udp&lt;/protocol&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
          &lt;ace txid:etag="nc5152"&gt;
            &lt;name&gt;R8&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;source-port&gt;
                &lt;port&gt;22&lt;/port&gt;
              &lt;/source-port&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.1-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="with-last-modified">
<section id="section-4.4.1.2">
            <h5 id="name-with-last-modified">
<a href="#section-4.4.1.2" class="section-number selfRef">4.4.1.2. </a><a href="#name-with-last-modified" class="section-name selfRef">with last-modified</a>
            </h5>
<p id="section-4.4.1.2-1">To retrieve last-modified attributes for "acls", but not for "nacm",
a client might send:<a href="#section-4.4.1.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.2-2">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;acls
        xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
        txid:last-modified="?"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.1.2-3">If the server considers "acls", "acl", "aces" and "acl" to be 
versioned elements, the server's response to the request above 
might look like:<a href="#section-4.4.1.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.2-4">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
      &lt;acl txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
        &lt;name&gt;A1&lt;/name&gt;
          &lt;ace txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
            &lt;name&gt;R1&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;dscp&gt;AF11&lt;/dscp&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
      &lt;/acl&gt;
      &lt;acl txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
          &lt;ace txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;protocol&gt;udp&lt;/protocol&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
          &lt;ace txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
            &lt;name&gt;R8&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;source-port&gt;
                &lt;port&gt;22&lt;/port&gt;
              &lt;/source-port&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="with-both-etag-and-last-modified">
<section id="section-4.4.1.3">
            <h5 id="name-with-both-etag-and-last-mod">
<a href="#section-4.4.1.3" class="section-number selfRef">4.4.1.3. </a><a href="#name-with-both-etag-and-last-mod" class="section-name selfRef">with both etag and last-modified</a>
            </h5>
<p id="section-4.4.1.3-1">To retrieve both etag and last-modified attributes for "acls", 
but not for "nacm", a client might send:<a href="#section-4.4.1.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.3-2">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;acls
        xmlns=
          "urn:ietf:params:xml:ns:yang:ietf-access-control-list"
        txid:etag="?" txid:last-modified="?"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.1.3-3">If the server considers "acls", "acl", "aces" and "acl" to be 
versioned elements, the server's response to the request above 
might look like:<a href="#section-4.4.1.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.1.3-4">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="nc5152"
        txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:etag="nc5152"
      txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
      &lt;acl txid:etag="nc4711"
           txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
        &lt;name&gt;A1&lt;/name&gt;
        &lt;aces txid:etag="nc4711"
              txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
          &lt;ace txid:etag="nc4711"
               txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
            &lt;name&gt;R1&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;dscp&gt;AF11&lt;/dscp&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
      &lt;acl txid:etag="nc5152"
           txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="nc5152"
              txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
          &lt;ace txid:etag="nc4711"
               txid:last-modified="2022-03-20T16:20:11.333444Z"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;protocol&gt;udp&lt;/protocol&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
          &lt;ace txid:etag="nc5152"
               txid:last-modified="2022-04-01T12:34:56.789012Z"&gt;
            &lt;name&gt;R8&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;source-port&gt;
                &lt;port&gt;22&lt;/port&gt;
              &lt;/source-port&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.1.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="configuration-response-pruning">
<section id="section-4.4.2">
          <h4 id="name-configuration-response-prun">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-configuration-response-prun" class="section-name selfRef">Configuration Response Pruning</a>
          </h4>
<p id="section-4.4.2-1">A NETCONF client that already knows some txid values MAY request that
the configuration retrieval request is pruned with respect to the 
client's prior knowledge.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.4.2-2">To retrieve only changes for "acls" that do not have the 
last known etag txid value "nc4711", but include the entire 
configuration for "nacm", regardless of txid, a client might send:<a href="#section-4.4.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.2-3">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;acls
        xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
        txid:etag="nc4711"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-4.4.2-4">Assuming the NETCONF server configuration is the same as 
in the previous rpc-reply example, the server's response to request 
above might look like:<a href="#section-4.4.2-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.2-5">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="nc5152"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:etag="nc5152"&gt;
      &lt;acl txid:etag="="&gt;
        &lt;name&gt;A1&lt;/name&gt;
      &lt;/acl&gt;
      &lt;acl txid:etag="nc5152"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="nc5152"&gt;
          &lt;ace txid:etag="="&gt;
            &lt;name&gt;R7&lt;/name&gt;
          &lt;/ace&gt;
          &lt;ace txid:etag="nc5152"&gt;
            &lt;name&gt;R8&lt;/name&gt;
            &lt;ipv4&gt;
              &lt;source-port&gt;
                &lt;port&gt;22&lt;/port&gt;
              &lt;/source-port&gt;
            &lt;/ipv4&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.2-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="configuration-change">
<section id="section-4.4.3">
          <h4 id="name-configuration-change">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-configuration-change" class="section-name selfRef">Configuration Change</a>
          </h4>
<p id="section-4.4.3-1">A client that wishes to update the ace R1 protocol to tcp might send:<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.3-2">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"&gt;
  &lt;edit-config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
               xmlns:ietf-netconf-txid=
                "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
    &lt;target&gt;
      &lt;running/&gt;
    &lt;/target&gt;
    &lt;test-option&gt;test-then-set&lt;/test-option&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
    &lt;config txid:etag="nc5152"&gt;
      &lt;acls
        xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
        txid:etag="nc5152"&gt;
        &lt;acl txid:etag="nc4711"&gt;
          &lt;name&gt;A1&lt;/name&gt;
          &lt;aces txid:etag="nc4711"&gt;
            &lt;ace txid:etag="nc4711"&gt;
              &lt;matches&gt;
                &lt;ipv4&gt;
                  &lt;protocol&gt;tcp&lt;/protocol&gt;
                &lt;/ipv4&gt;
              &lt;/matches&gt;
            &lt;/ace&gt;
          &lt;/aces&gt;
        &lt;/acl&gt;
      &lt;/acls&gt;
    &lt;/config&gt;
  &lt;/edit-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.3-3">The server would update the protocol leaf in the running datastore, 
and return an rpc-reply as follows:<a href="#section-4.4.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.3-4">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="nc7688"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.4.3-4" class="pilcrow">¶</a>
</div>
<p id="section-4.4.3-5">A subsequent get-config request for "acls", with txid:etag="?" might 
then return:<a href="#section-4.4.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.3-6">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="nc7688"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:etag="nc7688"&gt;
      &lt;acl txid:etag="nc7688"&gt;
        &lt;name&gt;A1&lt;/name&gt;
        &lt;aces txid:etag="nc7688"&gt;
          &lt;ace txid:etag="nc7688"&gt;
            &lt;name&gt;R1&lt;/name&gt;
            &lt;matches&gt;
              &lt;ipv4&gt;
                &lt;protocol&gt;tcp&lt;/protocol&gt;
              &lt;/ipv4&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
      &lt;acl txid:etag="nc6614"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="nc6614"&gt;
          &lt;ace txid:etag="nc4711"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;matches&gt;
              &lt;ipv4&gt;
                &lt;dscp&gt;AF11&lt;/dscp&gt;
              &lt;/ipv4&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
          &lt;ace txid:etag="nc5152"&gt;
            &lt;name&gt;R8&lt;/name&gt;
            &lt;matches&gt;
              &lt;udp&gt;
                &lt;source-port&gt;
                  &lt;port&gt;22&lt;/port&gt;
                &lt;/source-port&gt;
              &lt;/udp&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
          &lt;ace txid:etag="nc6614"&gt;
            &lt;name&gt;R9&lt;/name&gt;
            &lt;matches&gt;
              &lt;tcp&gt;
                &lt;source-port&gt;
                  &lt;port&gt;830&lt;/port&gt;
                &lt;/source-port&gt;
              &lt;/tcp&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.3-6" class="pilcrow">¶</a>
</div>
<p id="section-4.4.3-7">In case the server at this point received a configuration change from 
another source, such as a CLI operator, removing ace R8 and R9 in 
acl A2, a subsequent get-config request for acls, with txid:etag="?" 
might then return:<a href="#section-4.4.3-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.3-8">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="cli2222"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:etag="cli2222"&gt;
      &lt;acl txid:etag="nc7688"&gt;
        &lt;name&gt;A1&lt;/name&gt;
        &lt;aces txid:etag="nc7688"&gt;
          &lt;ace txid:etag="nc7688"&gt;
            &lt;name&gt;R1&lt;/name&gt;
            &lt;matches&gt;
              &lt;ipv4&gt;
                &lt;protocol&gt;tcp&lt;/protocol&gt;
              &lt;/ipv4&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
      &lt;acl txid:etag="cli2222"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="cli2222"&gt;
          &lt;ace txid:etag="nc4711"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;matches&gt;
              &lt;ipv4&gt;
                &lt;dscp&gt;AF11&lt;/dscp&gt;
              &lt;/ipv4&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.3-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="conditional-configuration-change">
<section id="section-4.4.4">
          <h4 id="name-conditional-configuration-c">
<a href="#section-4.4.4" class="section-number selfRef">4.4.4. </a><a href="#name-conditional-configuration-c" class="section-name selfRef">Conditional Configuration Change</a>
          </h4>
<p id="section-4.4.4-1">If a client wishes to delete acl A1 if and only if its configuration 
has not been altered since this client last synchronized its 
configuration with the server, at which point it received the etag 
"nc7688" for acl A1, regardless of any possible changes to other 
acls, it might send:<a href="#section-4.4.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.4-2">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"
     xmlns:ietf-netconf-txid=
       "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
  &lt;edit-config&gt;
    &lt;target&gt;
      &lt;runnign/&gt;
    &lt;/target&gt;
    &lt;test-option&gt;test-then-set&lt;/test-option&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
    &lt;config&gt;
      &lt;acls xmlns=
          "urn:ietf:params:xml:ns:yang:ietf-access-control-list"&gt;
        &lt;acl nc:operation="delete"
             txid:etag="nc7688"&gt;
          &lt;name&gt;A1&lt;/name&gt;
        &lt;/acl&gt;
      &lt;/acls&gt;
    &lt;/config&gt;
  &lt;/edit-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.4-2" class="pilcrow">¶</a>
</div>
<p id="section-4.4.4-3">If acl A1 now has the etag txid value "nc7688", as expected by the 
client, the transaction goes through, and the server responds 
something like:<a href="#section-4.4.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.4-4">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="nc8008"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.4.4-4" class="pilcrow">¶</a>
</div>
<p id="section-4.4.4-5">A subsequent get-config request for acls, with txid:etag="?" might 
then return:<a href="#section-4.4.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.4-6">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="nc8008"&gt;
    &lt;acls
      xmlns="urn:ietf:params:xml:ns:yang:ietf-access-control-list"
      txid:etag="nc8008"&gt;
      &lt;acl txid:etag="cli2222"&gt;
        &lt;name&gt;A2&lt;/name&gt;
        &lt;aces txid:etag="cli2222"&gt;
          &lt;ace txid:etag="nc4711"&gt;
            &lt;name&gt;R7&lt;/name&gt;
            &lt;matches&gt;
              &lt;ipv4&gt;
                &lt;dscp&gt;AF11&lt;/dscp&gt;
              &lt;/ipv4&gt;
            &lt;/matches&gt;
          &lt;/ace&gt;
        &lt;/aces&gt;
      &lt;/acl&gt;
    &lt;/acls&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.4-6" class="pilcrow">¶</a>
</div>
<p id="section-4.4.4-7">In case acl A1 did not have the expected etag txid value "nc7688", 
when the server processed this request, it rejects the transaction, 
and might send:<a href="#section-4.4.4-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.4-8">
<pre>
&lt;rpc-reply xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:acl=
            "urn:ietf:params:xml:ns:yang:ietf-access-control-list"
           xmlns:ietf-netconf-txid=
             "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
           message-id="1"&gt;
  &lt;rpc-error&gt;
    &lt;error-type&gt;protocol&lt;/error-type&gt;
    &lt;error-tag&gt;operation-failed&lt;/error-tag&gt;
    &lt;error-severity&gt;error&lt;/error-severity&gt;
    &lt;error-info&gt;
      &lt;ietf-netconf-txid:txid-value-mismatch-error-info&gt;
        &lt;ietf-netconf-txid:mismatch-path&gt;
          /acl:acls/acl:acl[acl:name="A1"]
        &lt;/ietf-netconf-txid:mismatch-path&gt;
        &lt;ietf-netconf-txid:mismatch-etag-value&gt;
          cli2401
        &lt;/ietf-netconf-txid:mismatch-etag-value&gt;
      &lt;/ietf-netconf-txid:txid-value-mismatch-error-info&gt;
    &lt;/error-info&gt;
  &lt;/rpc-error&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.4.4-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="etags-with-other-netconf-operations">
<section id="section-4.4.5">
          <h4 id="name-etags-with-other-netconf-op">
<a href="#section-4.4.5" class="section-number selfRef">4.4.5. </a><a href="#name-etags-with-other-netconf-op" class="section-name selfRef">ETags with Other NETCONF Operations</a>
          </h4>
<p id="section-4.4.5-1">The client MAY request that the new etag txid value is returned as an 
attribute on the ok response for a successful commit.  The client 
requests this by adding with-etag to the commit operation.<a href="#section-4.4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.4.5-2">For example, a client might send:<a href="#section-4.4.5-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.5-3">
<pre>
&lt;rpc message-id="1"
    xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
    xmlns:ietf-netconf-txid=
      "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"
  &lt;commit&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
  &lt;/commit&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4.5-3" class="pilcrow">¶</a>
</div>
<p id="section-4.4.5-4">Assuming the server accepted the transaction, it might respond:<a href="#section-4.4.5-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.4.5-5">
<pre>
&lt;rpc-reply message-id="1"
    xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
    xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="nc8008"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.4.5-5" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="yang-push">
<section id="section-4.5">
        <h3 id="name-yang-push">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-yang-push" class="section-name selfRef">YANG-Push</a>
        </h3>
<p id="section-4.5-1">A client MAY request that the updates for one or more YANG Push 
subscriptions are annotated with the txid values.  The request might
look like this:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.5-2">
<pre>
&lt;netconf:rpc message-id="101"
             xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;establish-subscription
      xmlns=
        "urn:ietf:params:xml:ns:yang:ietf-subscribed-notifications"
      xmlns:yp="urn:ietf:params:xml:ns:yang:ietf-yang-push"
      xmlns:ietf-netconf-txid-yp=
        "urn:ietf:params:xml:ns:yang:ietf-txid-yang-push"&gt;
    &lt;yp:datastore
        xmlns:ds="urn:ietf:params:xml:ns:yang:ietf-datastores"&gt;
      ds:running
    &lt;/yp:datastore&gt;
    &lt;yp:datastore-xpath-filter
        xmlns:acl=
          "urn:ietf:params:xml:ns:yang:ietf-access-control-list"&gt;
      /acl:acls
    &lt;/yp:datastore-xpath-filter&gt;
    &lt;yp:periodic&gt;
      &lt;yp:period&gt;500&lt;/yp:period&gt;
    &lt;/yp:periodic&gt;
    &lt;ietf-netconf-txid-yp:with-etag&gt;
      true
    &lt;/ietf-netconf-txid-yp:with-etag&gt;
  &lt;/establish-subscription&gt;
&lt;/netconf:rpc&gt;
</pre><a href="#section-4.5-2" class="pilcrow">¶</a>
</div>
<p id="section-4.5-3">In case a client wishes to modify a previous subscription request in
order to no longer receive YANG Push subscription updates, the request 
might look like this:<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.5-4">
<pre>
&lt;rpc message-id="102"
    xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
  &lt;modify-subscription
      xmlns=
        "urn:ietf:params:xml:ns:yang:ietf-subscribed-notifications"
      xmlns:yp="urn:ietf:params:xml:ns:yang:ietf-yang-push"
      xmlns:txid-yp=
        "urn:ietf:params:xml:ns:yang:ietf-txid-yang-push"&gt;
    &lt;id&gt;1011&lt;/id&gt;
    &lt;yp:datastore
        xmlns:ds="urn:ietf:params:xml:ns:yang:ietf-datastores"&gt;
      ds:running
    &lt;/yp:datastore&gt;
    &lt;txid-yp:txid-etag-request&gt;false FIXME
    &lt;/txid-yp:txid-etag-request&gt;
  &lt;/modify-subscription&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.5-4" class="pilcrow">¶</a>
</div>
<p id="section-4.5-5">A server might send a subscription update like this:<a href="#section-4.5-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-xml" id="section-4.5-6">
<pre>
&lt;notification
  xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0"&gt;
  &lt;eventTime&gt;2022-04-04T06:00:24.16Z&lt;/eventTime&gt;
  &lt;push-change-update
      xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-push"&gt;
    &lt;id&gt;89&lt;/id&gt;
    &lt;datastore-changes&gt;
      &lt;yang-patch&gt;
        &lt;patch-id&gt;0&lt;/patch-id&gt;
        &lt;edit txid:etag="nc8008"&gt; FIXME
          &lt;edit-id&gt;edit1&lt;/edit-id&gt;
          &lt;operation&gt;delete&lt;/operation&gt;
          &lt;target xmlns:acl=
            "urn:ietf:params:xml:ns:yang:ietf-access-control-list"&gt;
            /acl:acls
          &lt;/target&gt;
          &lt;value&gt;
            &lt;acl xmlns=
              "urn:ietf:params:xml:ns:yang:ietf-access-control-list"&gt;
              &lt;name&gt;A1&lt;/name&gt;
            &lt;/acl&gt;
          &lt;/value&gt;
        &lt;/edit&gt;
      &lt;/yang-patch&gt;
    &lt;/datastore-changes&gt;
  &lt;/push-change-update&gt;
&lt;/notification&gt;
</pre><a href="#section-4.5-6" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="yang-modules">
<section id="section-5">
      <h2 id="name-yang-modules">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-yang-modules" class="section-name selfRef">YANG Modules</a>
      </h2>
<div id="base-module-for-txid-in-netconf">
<section id="section-5.1">
        <h3 id="name-base-module-for-txid-in-net">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-base-module-for-txid-in-net" class="section-name selfRef">Base module for txid in NETCONF</a>
        </h3>
<div class="artwork art-text alignLeft art-yang" id="section-5.1-1">
<pre>
module ietf-netconf-txid {
  yang-version 1.1;
  namespace
    'urn:ietf:params:xml:ns:yang:ietf-netconf-txid';
  prefix ietf-netconf-txid;

  import ietf-netconf {
    prefix nc;
  }

  import ietf-netconf-nmda {
    prefix ncds;
  }

  import ietf-yang-structure-ext {
    prefix sx;
  }

  import ietf-yang-types {
    prefix yang;
  }

  organization
    "IETF NETCONF (Network Configuration) Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/netconf/&gt;
     WG List:  &lt;netconf@ietf.org&gt;

     Author:   Jan Lindblad
               &lt;mailto:jlindbla@cisco.com&gt;";

  description
    "NETCONF Transaction ID aware operations for NMDA.

     Copyright (c) 2021 IETF Trust and the persons identified as
     the document authors.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2022-04-01 {
    description
      "Initial revision";
    reference
      "RFC XXXX: Xxxxxxxxx";
  }

  typedef etag-t {
    type string {
      pattern ".* .*" {
        modifier invert-match;
      }
      pattern ".*\".*" {
        modifier invert-match;
      }
      pattern ".*\\.*" {
        modifier invert-match;
      }
    }
    description
      "Unique Entity-tag txid value representing a specific
      transaction.  Could be any string that does not contain
      spaces, double quotes or backslash.  The txid values '?'
      and '=' have special meaning.";
  }

  typedef last-modified-t {
    type union {
      type yang:date-and-time;
      type enumeration {
        enum ?;
        enum =;
      }
    }
    description
      "Last-modified txid value representing a specific transaction.
       The txid values '?' and '=' have special meaning.";
  }

  grouping txid-grouping {
    leaf with-etag {
      type boolean;
      description
        "Indicates whether the client requests the server to include a
         txid:etag txid attribute when the configuration has changed.";
    }
    leaf with-last-modified {
      type boolean;
      description
        "Indicates whether the client requests the server to include a
         txid:last-modified attribute when the configuration has
         changed.";
    }
    description
      "Grouping for txid mechanisms, to be augmented into
       rpcs that modify configuration data stores.";
  }

  augment /nc:edit-config/nc:input {
    uses txid-grouping;
    description
      "Injects the txid mechanisms into the
      edit-config operation";
  }

  augment /nc:commit/nc:input {
    uses txid-grouping;
    description
      "Injects the txid mechanisms into the
      commit operation";
  }

  augment /ncds:edit-data/ncds:input {
    uses txid-grouping;
    description
      "Injects the txid mechanisms into the
      edit-data operation";

  sx:structure txid-value-mismatch-error-info {
    container txid-value-mismatch-error-info {
      description
         "This error is returned by a NETCONF server when a client
          sends a configuration change request, with the additonal
          condition that the server aborts the transaction if the
          server's configuration has changed from what the client
          expects, and the configuration is found not to actually
          not match the client's expectation.";
      leaf mismatch-path {
        type instance-identifier;
        description
          "Indicates the YANG path to the element with a mismatching
           etag txid value.";
      }
      leaf mismatch-etag-value {
        type etag-t;
        description
          "Indicates server's txid value of the etag
          attribute for one mismatching element.";
      }
      leaf mismatch-last-modified-value {
        type last-modified-t;
        description
          "Indicates server's txid value of the last-modified
          attribute for one mismatching element.";
      }
    }
  }
}
</pre><a href="#section-5.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="additional-support-for-txid-in-yang-push">
<section id="section-5.2">
        <h3 id="name-additional-support-for-txid">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-additional-support-for-txid" class="section-name selfRef">Additional support for txid in YANG-Push</a>
        </h3>
<div class="artwork art-text alignLeft art-yang" id="section-5.2-1">
<pre>
module ietf-netconf-txid-yang-push {
  yang-version 1.1;
  namespace
    'urn:ietf:params:xml:ns:yang:ietf-netconf-txid-yang-push';
  prefix ietf-netconf-txid-yp;

  import ietf-subscribed-notifications {
    prefix sn;
    reference
      "RFC 8639: Subscription to YANG Notifications";
  }

  import ietf-netconf-txid {
    prefix ietf-netconf-txid;
    reference
      "RFC XXXX: Xxxxxxxxx";//FIXME
  }

  revision 2022-04-01 {
    description
      "Initial revision";
    reference
      "RFC XXXX: Xxxxxxxxx";
  }

  augment "/sn:establish-subscription/sn:input" {
    description
      "This augmentation adds additional subscription parameters
        that apply specifically to datastore updates to RPC input.";
    uses ietf-netconf-txid:txid-grouping;
  }
  augment "/sn:modify-subscription/sn:input" {
    description
      "This augmentation adds additional subscription parameters
        specific to datastore updates.";
    uses ietf-netconf-txid:txid-grouping;
  }
  augment "/sn:subscriptions/sn:subscription" {
    description
      "This augmentation adds additional subscription parameters
        specific to datastore updates.";
    uses ietf-netconf-txid:txid-grouping;
  }
}
</pre><a href="#section-5.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TODO Security<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document registers the following capability identifier URN in
the 'Network Configuration Protocol (NETCONF) Capability URNs' 
registry:<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">FIXME Attributes vs. leafs in req.
FIXME YP updates<a href="#section-7-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7-3">
<pre>
  urn:ietf:params:netconf:capability:txid:1.0
</pre><a href="#section-7-3" class="pilcrow">¶</a>
</div>
<p id="section-7-4">This document registers two XML namespace URNs in the 'IETF XML
registry', following the format defined in 
<a href="https://tools.ietf.org/html/rfc3688">RFC 3688</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7-5">
<pre>
  URI: urn:ietf:params:xml:ns:netconf:txid:1.0

  URI: urn:ietf:params:xml:ns:yang:ietf-netconf-txid

  Registrant Contact: The NETCONF WG of the IETF.

  XML: N/A, the requested URIs are XML namespaces.
</pre><a href="#section-7-5" class="pilcrow">¶</a>
</div>
<p id="section-7-6">This document registers one module name in the 'YANG Module Names'
registry, defined in <a href="https://tools.ietf.org/html/rfc6020">RFC 6020</a>.<a href="#section-7-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7-7">
<pre>
  name: ietf-netconf-txid

  prefix: ietf-netconf-txid

  namespace: urn:ietf:params:xml:ns:yang:ietf-netconf-txid

  RFC: XXXX
</pre><a href="#section-7-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="changes">
<section id="section-8">
      <h2 id="name-changes">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-changes" class="section-name selfRef">Changes</a>
      </h2>
<div id="major-changes-in-02-since-01">
<section id="section-8.1">
        <h3 id="name-major-changes-in-02-since-0">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-major-changes-in-02-since-0" class="section-name selfRef">Major changes in -02 since -01</a>
        </h3>
<p id="section-8.1-1">FIXME<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="major-changes-in-01-since-00">
<section id="section-8.2">
        <h3 id="name-major-changes-in-01-since-0">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-major-changes-in-01-since-0" class="section-name selfRef">Major changes in -01 since -00</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-8.2-1.1">Updated the text on numerous points in order to answer questions 
that appeared on the mailing list.<a href="#section-8.2-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.2">Changed the document structure into a general transaction id part 
and one etag specific part.<a href="#section-8.2-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.3">Renamed entag attribute to etag, prefix to txid, namespace to
urn:ietf:params:xml:ns:yang:ietf-netconf-txid.<a href="#section-8.2-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.4">Set capability string to
urn:ietf:params:netconf:capability:txid:1.0<a href="#section-8.2-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.5">Changed YANG module name, namespace and prefix to match names above.<a href="#section-8.2-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.6">Harmonized/slightly adjusted etag value space with RFC 7232 and 
RFC 8040.<a href="#section-8.2-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.7">Removed all text discussing etag values provided by the client 
(although this is still an interesting idea, if you ask the author)<a href="#section-8.2-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.8">Clarified the etag attribute mechanism, especially when it comes to
matching against non-versioned elements, its cascading upwards in the 
tree and secondary effects from when- and choice-statements.<a href="#section-8.2-1.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.9">Added a mechanism for returning the server assigned etag value in
get-config and get-data.<a href="#section-8.2-1.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.10">Added section describing how the NETCONF discard-changes, 
copy-config, delete-config and commit operations work with respect to 
etags.<a href="#section-8.2-1.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.11">Added IANA Considerations section.<a href="#section-8.2-1.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-1.12">Removed all comments about open questions.<a href="#section-8.2-1.12" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<section id="section-9">
      <h2 id="name-normative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
    <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="acknowledgments">
<section id="section-appendix.a">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-appendix.a-1">The author wishes to thank Benoit Claise for making this work happen,
and the following individuals, who all provided helpful comments:
Per Andersson, Kent Watsen, Andy Bierman, Robert Wilton, Qiufang Ma.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jan Lindblad</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jlindbla@cisco.com" class="email">jlindbla@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
